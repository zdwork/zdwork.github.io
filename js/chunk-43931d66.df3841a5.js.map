{"version":3,"sources":["webpack:///./src/views/frontend/Detail.vue?391b","webpack:///./src/views/frontend/Detail.vue?ac60","webpack:///src/views/frontend/Detail.vue","webpack:///./src/views/frontend/Detail.vue?1adf","webpack:///./src/views/frontend/Detail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","detail","staticRenderFns","components","data","mounted","$route","path","console","log","window","history","pushState","document","URL","addEventListener","goBack","item","query","JSON","parse","getDetail","id","destroyed","removeEventListener","methods","sessionStorage","clear","back","response","code","msg","errMsg","$message","type","message","err","component"],"mappings":"gHAAA,yBAAuf,EAAG,G,gECA1f,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,UAAUL,EAAG,IAAI,CAACE,YAAY,YAAYF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,cAAc,CAACM,MAAM,CAAC,OAASV,EAAIW,OAAOA,WAAW,MAC3TC,EAAkB,G,6CCctB,GACEC,WAAY,CAAd,iBACEC,KAFF,WAGI,MAAO,CACLL,MAAO,GACPE,OAAQ,KAGZI,QARF,WAU4B,WAApBd,KAAKe,OAAOC,OACd,EAAN,wBACMC,QAAQC,IAAI,0BAGVC,OAAOC,SAAWD,OAAOC,QAAQC,YACnCD,QAAQC,UAAU,KAAM,KAAMC,SAASC,KACvCJ,OAAOK,iBAAiB,WAAYxB,KAAKyB,QAAQ,IAGnD,IAAIC,EAAO1B,KAAKe,OAAOY,MAAMD,KAC7BA,EAAOE,KAAKC,MAAMH,GAElB1B,KAAKQ,MAAQkB,EAAKlB,MAElBR,KAAK8B,UAAUJ,EAAKK,KAEtBC,UA3BF,WA4BIb,OAAOc,oBAAoB,WAAYjC,KAAKyB,QAAQ,IAEtDS,QAAS,CACPT,OADJ,WAEM,EAAN,yBACMU,eAAeC,QACfjB,OAAOC,QAAQiB,QAEjBP,UANJ,SAMA,cACM,OAAN,OAAM,CAAN,qBACQ,GAA2B,IAAvBQ,EAASzB,KAAK0B,MAAoC,OAAtBD,EAASzB,KAAK2B,IAC5C,OAAiC,MAA7BF,EAASzB,KAAKA,KAAKH,QACrB,EAAZ,yBACY,EAAZ,iBAGU,EAAV,8BAGA,mBACQ,EAAR,0BAGI+B,OArBJ,SAqBA,KACMzC,KAAK0C,SAAS,CACZC,KAAM,QACNC,QAASJ,EAAMK,OCrEwU,I,wBCQ3VC,EAAY,eACd,EACAhD,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAAmC,E","file":"js/chunk-43931d66.df3841a5.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=5967d02c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=5967d02c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('p',{staticClass:\"title-p\"}),_c('div',{staticClass:\"markdown-body\"},[_c('VueMarkdown',{attrs:{\"source\":_vm.detail.detail}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h2 class=\"title\">{{ title }}</h2>\r\n    <p class=\"title-p\"></p>\r\n    <div class=\"markdown-body\">\r\n      <VueMarkdown :source=\"detail.detail\"></VueMarkdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueMarkdown from 'vue-markdown'\r\nimport { GetDetail } from '@/api/api'\r\nimport util from '../../utils/utils'\r\n\r\nexport default {\r\n  components: { VueMarkdown },\r\n  data() {\r\n    return {\r\n      title: '',\r\n      detail: '',\r\n    }\r\n  },\r\n  mounted() {\r\n    // 如果当前页面是detail就隐藏 feed, 防止在导航栏刷新时详情和feed流共存\r\n    if (this.$route.path == '/detail') {\r\n      util.$emit('closeFeed')\r\n      console.log('util.$emit(closeFeed)')\r\n    }\r\n    // 监听返回\r\n    if (window.history && window.history.pushState) {\r\n      history.pushState(null, null, document.URL);\r\n      window.addEventListener('popstate', this.goBack, false);\r\n    }\r\n    // Header.vue 传过来的文章数据\r\n    var item = this.$route.query.item\r\n    item = JSON.parse(item)\r\n    // 标题\r\n    this.title = item.title\r\n    // 详情页数据\r\n    this.getDetail(item.id)\r\n  },\r\n  destroyed () {\r\n    window.removeEventListener('popstate', this.goBack, false);\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      util.$emit('detailBack')\r\n      sessionStorage.clear();\r\n      window.history.back();\r\n    },\r\n    getDetail(id) {\r\n      GetDetail(id).then(response => {\r\n        if (response.data.code === 0 && response.data.msg === \"ok\") {\r\n          if (response.data.data.detail == null) {\r\n            this.errMsg('文章内容为空', '')\r\n            this.detail = ''\r\n            return\r\n          }\r\n          this.detail = response.data.data.detail\r\n          return\r\n        }\r\n      }).catch(err => {\r\n        this.errMsg('获取文章详情失败 ', err)\r\n      })\r\n    },\r\n    errMsg(msg, err) {\r\n      this.$message({\r\n        type: 'error',\r\n        message: msg + err\r\n      });\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  margin-top: 45px;\r\n}\r\n.title {\r\n  margin-bottom: 17px;\r\n}\r\n.title-p {\r\n  border-bottom: 1px solid;\r\n  border-color: #e8e8e8;\r\n  margin-bottom: 30px\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=5967d02c&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=5967d02c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5967d02c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}